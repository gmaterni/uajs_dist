<!doctype html>
<html >
<head>
<meta http-equiv="Content-Language" content="it">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>ejstest</title>
<script type="text/javascript">
var args = {
  "row0": {
    "anagid": {
      "limit": 2,
      "type": "int",
      "label": "anagid"
    },
    "cognome": {
      "limit": 20,
      "type": "str",
      "label": "cognome"
    },
    "nome": {
      "limit": 20,
      "type": "str",
      "label": "nome"
    },
    "datanasc": {
      "limit": 10,
      "type": "date",
      "label": "Data Nasc,"
    },
    "sesso": {
      "limit": 1,
      "type": "str",
      "label": "MF"
    },
    "codfisc": {
      "limit": 16,
      "type": "str",
      "label": "Cod.Fisc."
    }
  },
  "rows": [{
    "anagid": 56,
    "cognome": "Catoni",
    "nome": "Antonio",
    "datanasc": "24-02-1950",
    "sesso": "m",
    "codfisc": "mtrgpp50b24m082p"
  }, {
    "anagid": 52,
    "cognome": "Lausi",
    "nome": "Simone",
    "datanasc": "24-02-1953",
    "sesso": "m",
    "codfisc": "mtrgpp50b24m082p"
  }, {
    "anagid": 54,
    "cognome": "Arl√≤",
    "nome": "Marta",
    "datanasc": "06-03-1982",
    "sesso": "f",
    "codfisc": "mtrgpp50b24m082p"
  }, {
    "anagid": 56,
    "cognome": "Allorni",
    "nome": "Tommaso",
    "datanasc": "01-01-2012",
    "sesso": "m",
    "codfisc": "gttspd50b24m082p"
  }]

}

var fnEjs = function(pars) {
  var up = [];
  var row0 = pars['row0'];
  var rows = pars['rows'];
  up.push(" <table id='rows1' class='list'>  <tr>   ");
  for (var col in row0) {
    var label = row0[col].label;
    up.push("    <td class='head'>");
    up.push(label);
    up.push("</td> ");
  }
  up.push("  </tr>  ");
  for (var i = 0; i < rows.length; i++) {
    row = rows[i];
    var num = 'row' + i;
    up.push("  <tr id='");
    up.push(num);
    up.push("'>   ");
    for (var col in row) {
      var value = row[col];
      var limit = row0[col].limit;
      up.push("    <td><input type='text' name='");
      up.push(col);
      up.push("' value='");
      up.push(value);
      up.push("' size='");
      up.push(limit);
      up.push("' maxlength='");
      up.push(limit);
      up.push("' /></td>  ");
    }
    up.push("  </tr>  ");
  }
  up.push("</table>");;
  return up.join("");
};
var html = fnEjs(args);
</script>
</head>
<body>
<div id='ua'></div>
<script type="text/javascript" >
 var e=document.getElementById('ua');
 e.innerHTML=html;
</script>
</body>
</html>
